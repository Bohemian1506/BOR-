# 🚀 {{FEATURE_NAME}}実装依頼

**生成日時**: {{DATE}}  
**プロジェクト**: {{PROJECT_INFO}}

## 🎯 実装タスク
BattleOfRunteqプロジェクトで「{{FEATURE_NAME}}」を実装してください。

## 📋 詳細実装手順

### 1. 基本構造の作成
- **目的**: {{FEATURE_NAME}}の基本的なMVC構造を構築
- **対象**: コントローラー、モデル、ビューの基本ファイル作成

### 2. データベース設計
- **マイグレーションファイル作成**: 必要なテーブル構造を定義
- **バリデーション設定**: データ整合性を保つための制約設定
- **関連付けの実装**: 既存モデルとの適切な関連付け

### 3. コントローラー実装
- **基本アクション**: index, show, new, create, edit, update, destroy
- **Strong Parameters**: セキュリティを考慮したパラメータ設定
- **エラーハンドリング**: 適切な例外処理とユーザーフィードバック

### 4. ビュー作成
- **Bootstrap 5.2対応**: レスポンシブなUI実装
- **フォーム設計**: ユーザビリティを考慮したフォーム
- **一覧・詳細画面**: 分かりやすい情報表示

### 5. ルーティング設定
- **RESTful設計**: Rails規約に従ったルーティング
- **ネストルーティング**: 必要に応じた階層構造

## 🔧 技術要件

### 基本要件
- **Rails 8 + PostgreSQL + Bootstrap 5.2対応**
- **MVCパターン準拠、初学者理解しやすい実装**
- **日本語コメント必須**（コードの意図と動作を説明）
- **Strong Parameters使用**（セキュリティ考慮）
- **RSpec テスト実装必須**

### セキュリティ要件
- **CSRF対策**: Rails標準のCSRF保護
- **SQLインジェクション対策**: Active Recordの適切な使用
- **XSS対策**: ERBでの適切なエスケープ処理
- **認証連携**: 必要に応じてDevise認証との連携

### 品質要件
- **Rails規約準拠**: 命名規則とファイル配置ルール
- **エラーハンドリング**: 異常系への適切な対応
- **パフォーマンス考慮**: N+1クエリ問題の回避
- **保守性**: 将来の機能拡張を考慮した設計

## 📁 対象ファイル

### 新規作成予定
- `app/models/[model_name].rb`
- `app/controllers/[controller_name]_controller.rb`
- `app/views/[controller_name]/`（各アクション用ビューファイル）
- `db/migrate/[timestamp]_create_[table_name].rb`
- `spec/models/[model_name]_spec.rb`
- `spec/requests/[controller_name]_spec.rb`

### 修正予定
- `config/routes.rb`（ルーティング追加）
- `app/models/user.rb`（関連付け追加、必要に応じて）

## 📝 実装時の注意点

### 初学者向け配慮
- **詳細なコメント**: 各メソッドの役割と処理内容を説明
- **理解しやすい変数名**: 意図が明確に伝わる命名
- **段階的実装**: 基本機能から高度な機能へ順次追加
- **エラーメッセージ**: 分かりやすい日本語エラーメッセージ

### Rails規約への準拠
- **ファイル命名**: Rails規約に従ったファイル・クラス名
- **メソッド命名**: RESTfulアクション名の使用
- **ディレクトリ構造**: Railsアプリケーションの標準構造

## ✅ 完了基準

### 機能面
- [ ] 基本的なCRUD操作が正常に動作
- [ ] Bootstrap UIが適切に表示される
- [ ] フォームバリデーションが機能する
- [ ] エラーハンドリングが適切に動作

### 品質面
- [ ] すべてのRSpecテストがパス
- [ ] Rubocopの静的解析をクリア
- [ ] セキュリティチェック完了
- [ ] パフォーマンステスト実行

### ドキュメント面
- [ ] 初学者向けコメント完備
- [ ] Rails規約準拠確認
- [ ] 実装仕様書の作成（README更新）

## 💡 実装のヒント

### よくある課題と対策
1. **N+1クエリ問題**: `includes`や`joins`の適切な使用
2. **バリデーションエラー**: 分かりやすいエラーメッセージの実装
3. **フォーム設計**: CSRF トークンとStrong Parametersの確実な実装
4. **テストデータ**: Factory Botを使った効率的なテストデータ作成

### パフォーマンス最適化
- データベースインデックスの適切な設定
- 不要なクエリの削減
- キャッシュ戦略の検討（必要に応じて）

この実装指示に基づき、段階的かつ体系的に{{FEATURE_NAME}}を実装してください。実装完了後は、動作確認とテスト実行を必ず行い、品質基準を満たしていることを確認してください。